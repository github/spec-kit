define("widgets/guardrails/guardrails",[],()=>(()=>{"use strict";var e,n={770:function(e,n,t){var a,s=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var s=Object.getOwnPropertyDescriptor(n,t);s&&!("get"in s?!n.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,s)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),i=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),i=0;i<t.length;i++)"default"!==t[i]&&s(n,e,t[i]);return r(n,e),n});Object.defineProperty(n,"__esModule",{value:!0});const o=i(t(899));class c{constructor(){this.projectId="",this.widgetSettings={},this.initialize()}async initialize(){var e;await o.init(),await o.ready();const n=o.getWebContext();this.projectId=(null===(e=n.project)||void 0===e?void 0:e.id)||"",await this.loadData()}async loadData(){try{const e={overallScore:87,totalRules:24,passed:19,warnings:3,failed:2,recentChecks:[{name:"Input Validation Required",category:"security",status:"passed",description:"All user inputs are properly validated",lastChecked:new Date},{name:"Response Time < 2s",category:"performance",status:"warning",description:"Some endpoints exceed 2-second threshold",lastChecked:new Date},{name:"Code Coverage > 80%",category:"quality",status:"failed",description:"Current coverage: 76%",lastChecked:new Date},{name:"Authentication Required",category:"security",status:"passed",description:"All protected endpoints require auth",lastChecked:new Date},{name:"Database Query Optimization",category:"performance",status:"warning",description:"Some queries missing indexes",lastChecked:new Date}],trendData:[{date:"2024-01-01",score:82},{date:"2024-01-15",score:85},{date:"2024-02-01",score:87}]};this.renderWidget(e)}catch(e){console.error("Error loading guardrails data:",e),this.renderError("Failed to load guardrails status")}}renderWidget(e){const n=document.getElementById("guardrails-widget");n&&(n.innerHTML=`\n            <div class="guardrails-widget">\n                <div class="metric-header">\n                    <h3>Guardrails Compliance</h3>\n                    <span class="score ${this.getScoreClass(e.overallScore)}">${e.overallScore}%</span>\n                </div>\n                \n                <div class="summary-stats">\n                    <div class="stat passed">\n                        <span class="value">${e.passed}</span>\n                        <span class="label">Passed</span>\n                    </div>\n                    <div class="stat warnings">\n                        <span class="value">${e.warnings}</span>\n                        <span class="label">Warnings</span>\n                    </div>\n                    <div class="stat failed">\n                        <span class="value">${e.failed}</span>\n                        <span class="label">Failed</span>\n                    </div>\n                </div>\n                \n                <div class="recent-checks">\n                    <h4>Recent Checks</h4>\n                    <div class="checks-list">\n                        ${e.recentChecks.map(e=>`\n                            <div class="check-item ${e.status}">\n                                <div class="check-info">\n                                    <span class="check-name">${e.name}</span>\n                                    <span class="check-category">${e.category}</span>\n                                </div>\n                                <div class="check-status">\n                                    <span class="status-icon">${this.getStatusIcon(e.status)}</span>\n                                </div>\n                            </div>\n                        `).join("")}\n                    </div>\n                </div>\n                \n                <div class="actions">\n                    <button class="btn primary" onclick="window.open('/_admin/_work/guardrails', '_blank')">\n                        View All Rules\n                    </button>\n                    <button class="btn secondary" onclick="this.runAllChecks()">\n                        Run Checks\n                    </button>\n                </div>\n            </div>\n        `)}getScoreClass(e){return e>=90?"excellent":e>=80?"good":e>=70?"warning":"poor"}getStatusIcon(e){switch(e){case"passed":return"✅";case"warning":return"⚠️";case"failed":return"❌";default:return"❓"}}renderError(e){const n=document.getElementById("guardrails-widget");n&&(n.innerHTML=`\n            <div class="widget-error">\n                <div class="error-icon">⚠️</div>\n                <div class="error-message">${e}</div>\n            </div>\n        `)}async runAllChecks(){console.log("Running all guardrails checks..."),await this.loadData()}}o.ready().then(()=>{new c})}},t={};function a(e){var s=t[e];if(void 0!==s)return s.exports;var r=t[e]={exports:{}};return n[e].call(r.exports,r,r.exports,a),r.exports}a.m=n,e=[],a.O=(n,t,s,r)=>{if(!t){var i=1/0;for(d=0;d<e.length;d++){for(var[t,s,r]=e[d],o=!0,c=0;c<t.length;c++)(!1&r||i>=r)&&Object.keys(a.O).every(e=>a.O[e](t[c]))?t.splice(c--,1):(o=!1,r<i&&(i=r));if(o){e.splice(d--,1);var l=s();void 0!==l&&(n=l)}}return n}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[t,s,r]},a.d=(e,n)=>{for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={12:0};a.O.j=n=>0===e[n];var n=(n,t)=>{var s,r,[i,o,c]=t,l=0;if(i.some(n=>0!==e[n])){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(c)var d=c(a)}for(n&&n(t);l<i.length;l++)r=i[l],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},t=self.webpackChunkspec_kit_azure_devops_extension=self.webpackChunkspec_kit_azure_devops_extension||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var s=a.O(void 0,[76],()=>a(770));return a.O(s)})());
//# sourceMappingURL=guardrails.js.map