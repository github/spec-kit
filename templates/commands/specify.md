---
description: 自然言語の機能説明から機能仕様を作成または更新します。
scripts:
  sh: scripts/bash/create-new-feature.sh --json "{ARGS}"
  ps: scripts/powershell/create-new-feature.ps1 -Json "{ARGS}"
---

ユーザー入力は、エージェントから直接提供されるか、コマンド引数として提供される場合があります - プロンプトに進む前に、（空でない場合は）**必ず**考慮してください。

ユーザー入力:

$ARGUMENTS

ユーザーがトリガーメッセージ内で`/specify`の後に入力したテキスト**が**機能説明です。下に`{ARGS}`が文字通り表示されていても、この会話で常に利用可能であると仮定してください。空のコマンドを提供した場合を除き、ユーザーに繰り返しを求めないでください。

その機能説明を踏まえて、以下を実行してください：

1. リポジトリルートからスクリプト`{SCRIPT}`を実行し、BRANCH_NAMEとSPEC_FILEのJSON出力を解析します。すべてのファイルパスは絶対パスである必要があります。
  **重要** このスクリプトは一度だけ実行してください。JSONはターミナルの出力として提供されます - 探している実際のコンテンツを取得するために常にそれを参照してください。
2. 必要なセクションを理解するために`templates/spec-template.md`を読み込みます。
3. テンプレート構造を使用してSPEC_FILEに仕様を書き込み、セクションの順序と見出しを保持しながらプレースホルダーを機能説明（引数）から導出した具体的な詳細で置換します。
4. ブランチ名、仕様ファイルパス、および次のフェーズへの準備状態とともに完了を報告します。

注意: スクリプトは新しいブランチを作成してチェックアウトし、書き込み前に仕様ファイルを初期化します。
