# {{PROJECT_NAME}} MCP Server

Model Context Protocol server for automated testing and development of {{PROJECT_NAME}}.

## Features

- **Service Management**: Start/stop backend, frontend, and other services
- **Log Monitoring**: Real-time log access with filtering
- **Browser Automation**: Web testing with Playwright
- **API Testing**: HTTP client for REST API validation
- **Docker Integration**: Manage Docker Compose services

## Installation

```bash
npm install
npm run build
```

## Configuration

Edit `src/config.ts` to configure your project:

```typescript
export const config: ProjectConfig = {
  name: "my-project",
  rootDir: "/path/to/project",

  services: [
    {
      name: "backend",
      command: "./mvnw spring-boot:run",  // or "npm run start"
      cwd: "backend",
      healthCheck: {
        url: "http://localhost:8080/health",
        timeout: 60000
      }
    },
    {
      name: "frontend",
      command: "npm run dev",
      cwd: "frontend",
      dependsOn: ["backend"]
    }
  ],

  docker: {
    composeFile: "docker-compose.yml",
    services: ["db", "redis"]
  },

  browser: {
    baseUrl: "http://localhost:5173",
    headless: false
  },

  api: {
    baseUrl: "http://localhost:8080/api"
  }
};
```

## Usage with Claude Code

Add to your Claude Code MCP configuration (`~/.claude/mcp.json` or project `.claude/mcp.json`):

```json
{
  "mcpServers": {
    "{{PROJECT_NAME}}": {
      "command": "node",
      "args": ["{{MCP_PATH}}/dist/index.js"]
    }
  }
}
```

## Available Tools

### Service Management

| Tool | Description |
|------|-------------|
| `start_service` | Start a named service |
| `stop_service` | Stop a running service |
| `stop_all` | Stop all services |
| `services_status` | Get status of all services |
| `service_logs` | Get logs with optional filter |
| `health_check` | Check service health |
| `start_docker` | Start Docker Compose services |
| `stop_docker` | Stop Docker Compose services |

### Browser Automation

| Tool | Description |
|------|-------------|
| `browser_open` | Navigate to URL |
| `browser_close` | Close browser |
| `browser_screenshot` | Take screenshot |
| `browser_click` | Click element |
| `browser_fill` | Fill input field |
| `browser_type` | Type with delay (autocomplete) |
| `browser_get_text` | Get element text |
| `browser_wait_for` | Wait for element |
| `browser_exists` | Check element exists |
| `browser_url` | Get current URL |
| `browser_check_errors` | Find error elements |
| `browser_select` | Select dropdown option |
| `browser_press` | Press keyboard key |

### API Testing

| Tool | Description |
|------|-------------|
| `api_get` | GET request |
| `api_post` | POST request |
| `api_put` | PUT request |
| `api_delete` | DELETE request |
| `api_health` | Health check |
| `api_test` | Test with assertions |

## Example Usage

```
# Start infrastructure
> start_docker

# Start backend, wait for health
> start_service backend

# Start frontend
> start_service frontend

# Open browser and test
> browser_open /login
> browser_fill #email test@example.com
> browser_fill #password secret
> browser_click button[type=submit]
> browser_wait_for .dashboard
> browser_screenshot

# Check API
> api_get /users/me
> api_test POST /orders {"product": "123"} expectedStatus=201

# View logs if issues
> service_logs backend 100 "ERROR"

# Cleanup
> stop_all
> stop_docker
```

## Development

```bash
# Run in development mode
npm run dev

# Build for production
npm run build

# Inspect available tools
npm run inspect
```

---

Generated by `/speckit.mcp`
